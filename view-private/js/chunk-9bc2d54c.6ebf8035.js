(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9bc2d54c"],{"05fa":function(e,t,r){"use strict";r("ab85")},"1fbe":function(e,t,r){"use strict";r.d(t,"e",(function(){return o})),r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return c})),r.d(t,"h",(function(){return _})),r.d(t,"d",(function(){return p})),r.d(t,"g",(function(){return u})),r.d(t,"c",(function(){return m})),r.d(t,"f",(function(){return f}));var i=r("b775"),n=r("4328"),s=r.n(n),a=r("365c");function o(e){return Object(i["a"])({url:""+a["a"].fourtier.getStream,method:"get",params:e})}function l(e){return Object(i["a"])({url:""+a["a"].fourtier.addStream,method:"post",data:s.a.stringify(e)})}function c(e){return Object(i["a"])({url:""+a["a"].fourtier.delStream,method:"post",data:s.a.stringify(e)})}function _(e){return Object(i["a"])({url:""+a["a"].fourtier.setStream,method:"post",data:s.a.stringify(e)})}function p(e){return Object(i["a"])({url:""+a["a"].fourtier.getSip,method:"get",params:e})}function u(e){return Object(i["a"])({url:""+a["a"].fourtier.setSip,method:"post",data:s.a.stringify(e)})}function m(e){return Object(i["a"])({url:""+a["a"].fourtier.configDict,method:"get",params:e})}function f(e){return Object(i["a"])({url:""+a["a"].fourtier.configDict,method:"post",data:s.a.stringify(e)})}},"92aa":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"app-container"},[t("el-card",{attrs:{shadow:"never"}},[t("el-row",{staticStyle:{"margin-bottom":"10px","margin-left":"10px","margin-right":"10px"},attrs:{gutter:10}},[t("div",{staticStyle:{width:"300px",float:"left"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-search",placeholder:"请输入搜索内容"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t("div",{staticClass:"el-icon-info",staticStyle:{"margin-left":"100px",float:"left"}},[t("span",{staticStyle:{color:"red"}},[e._v("注：")]),e._v("4层转发配置有变更时，需要重启整个集群，使其生效")]),t("div",{staticStyle:{float:"right"}},[t("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.handleAdd}},[e._v("添加")]),t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleSave}},[e._v("保存")])],1)]),t("el-table",{attrs:{data:e.streamList,border:""}},[t("el-table-column",{attrs:{label:"stream名称",align:"center",prop:"stream_name","min-width":"12%","show-overflow-tooltip":!0}}),t("el-table-column",{attrs:{label:"描述",align:"left",prop:"des","min-width":"15%","show-overflow-tooltip":!0}}),t("el-table-column",{attrs:{label:"diff_file",align:"left",prop:"diff_file","min-width":"8%","show-overflow-tooltip":!0}}),t("el-table-column",{attrs:{label:"内容",align:"left",prop:"contents","min-width":"53%","show-overflow-tooltip":!0}}),t("el-table-column",{attrs:{label:"操作",align:"center","min-width":"12%","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-button",{staticStyle:{color:"orange"},attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(t){return e.handleSet(r.row)}}},[e._v("修改")]),t("el-popover",{attrs:{placement:"top",width:"160"},model:{value:r.row.visible,callback:function(t){e.$set(r.row,"visible",t)},expression:"scope.row.visible"}},[t("p",[e._v("确定要删除吗?")]),t("div",{staticStyle:{"text-align":"right",margin:"0"}},[t("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){r.row.visible=!1}}},[e._v("取消")]),t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handleDel(r.row)}}},[e._v("确定")])],1),t("el-button",{staticStyle:{color:"red","margin-left":"10px"},attrs:{slot:"reference",size:"mini",type:"text",icon:"el-icon-delete"},slot:"reference"},[e._v("删除")])],1)]}}])})],1),t("el-drawer",{attrs:{title:e.title,visible:e.open,size:"60%"},on:{"update:visible":function(t){e.open=t}}},[t("div",{staticStyle:{padding:"20px"}},[t("el-tabs",{on:{"tab-click":this.tabClick},model:{value:e.activename,callback:function(t){e.activename=t},expression:"activename"}},[t("el-tab-pane",{attrs:{label:"基础",name:"基础"}},[t("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"190px"}},[t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"stream名称:",prop:"stream_name"}},[t("el-input",{model:{value:e.form.stream_name,callback:function(t){e.$set(e.form,"stream_name",t)},expression:"form.stream_name"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{staticClass:"change-label-width",attrs:{label:"描述:",prop:"des"}},[t("el-input",{model:{value:e.form.des,callback:function(t){e.$set(e.form,"des",t)},expression:"form.des"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"端口:",prop:"port"}},[t("el-input",{model:{value:e.form.port,callback:function(t){e.$set(e.form,"port",e._n(t))},expression:"form.port"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{staticClass:"change-label-width",attrs:{label:"协议:",prop:"l_type"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"协议"},model:{value:e.form.l_type,callback:function(t){e.$set(e.form,"l_type",t)},expression:"form.l_type"}},e._l(e.agreeArray,(function(e){return t("el-option",{key:e.value,attrs:{label:e.value,value:e.value}})})),1)],1)],1)],1),t("el-form-item",{attrs:{label:"proxy_connect_timeout:",prop:"proxy_connect_timeout"}},[t("el-col",[t("el-input",{staticStyle:{width:"38%","margin-right":"5px"},model:{value:e.form.proxy_connect_timeout,callback:function(t){e.$set(e.form,"proxy_connect_timeout",t)},expression:"form.proxy_connect_timeout"}}),t("span",{staticStyle:{color:"red","margin-left":"20px"}},[e._v("* ")]),e._v("eg:5s 单位：秒 ")],1)],1),t("el-form-item",{attrs:{label:"proxy_timeout:",prop:"proxy_timeout"}},[t("el-col",[t("el-input",{staticStyle:{width:"38%","margin-right":"5px"},model:{value:e.form.proxy_timeout,callback:function(t){e.$set(e.form,"proxy_timeout",t)},expression:"form.proxy_timeout"}}),t("span",{staticStyle:{color:"red","margin-left":"20px"}},[e._v("* ")]),e._v("eg:30s 单位：秒 ")],1)],1),t("el-form-item",{attrs:{label:"源站:",prop:"ips"}},[t("el-col",[t("el-input",{attrs:{type:"textarea",rows:"6"},model:{value:e.form.ips,callback:function(t){e.$set(e.form,"ips",t)},expression:"form.ips"}}),t("span",{staticStyle:{color:"red","margin-left":"20px"}},[e._v("* ")]),e._v('eg: [{"fail_timeout":"10s","server":"192.168.28.26:1188","weight":2}...] ')],1)],1)],1)],1),"修改"===e.title?t("el-tab-pane",{attrs:{label:"高级",name:"高级"}},[t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{span:24}},[t("codemirror",{ref:"codemirrorRef",staticClass:"editorR",attrs:{options:e.options},model:{value:e.form.ngx_file,callback:function(t){e.$set(e.form,"ngx_file",t)},expression:"form.ngx_file"}})],1)],1)],1):e._e()],1),t("div",{staticClass:"dialog-footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),t("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)])],1)],1)},n=[],s=(r("14d9"),r("8f94")),a=(r("a7be"),r("acdf"),r("7ba3"),r("a8d9"),r("db91"),r("b2b9"),r("f9d4"),r("1fbe")),o=r("a417");const l=r("e762").Base64;var c={components:{codemirror:s["codemirror"]},data(){return{code:'[{\n    "port": 1188,\n    "stream_name": "stream名称（唯一）[stream_1188]",\n    "l_type": "nil/udp/tcp",\n    "des": "描述 stream 1188 for grpc",\n    "proxy_connect_timeout": "5s",\n    "proxy_timeout": "30s",\n    "ips": [\n        {\n            "server": "192.168.28.26:1188",\n            "weight": 2,\n            "fail_timeout": "10s"\n        },\n        {\n            "server": "192.168.28.27:1188",\n            "max_fails": 3\n        },\n        {\n            "server": "192.168.28.28:1188",\n            "max_fails": 5,\n            "fail_timeout": "10s"\n        }\n    ]\n},\n...\n]',options:{tabSize:4,mode:{name:"javascript",json:!0},theme:"darcula",lineNumbers:!0,line:!0,lineWrapping:!0,styleSelectedText:!0,styleActiveLine:!0,hintOptions:{completeSingle:!0}},streamList:[],tempList:[],search:"",activename:"基础",open:!1,title:"",certs_key:[],form:{stream_name:"stream",des:"des",port:8080,l_type:"tcp",proxy_connect_timeout:"",proxy_timeout:"",ips:"",ngx_file:""},rules:{stream_name:[{required:!0,message:"stream名称不能为空",trigger:"blur"}],port:[{required:!0,message:"端口不能为空",trigger:"blur"},{type:"number",message:"端口必须为数字"}],proxy_connect_timeout:[{required:!0,message:"proxy_connect_timeout不能为空",trigger:"blur"}],proxy_timeout:[{required:!0,message:"proxy_timeout不能为空",trigger:"blur"}],ips:[{required:!0,message:"源站不能为空",trigger:"blur"}]},agreeArray:[{value:"tcp"},{value:"udp"}]}},created(){this.getList()},methods:{tabClick(e,t){"高级"===e.name&&this.$refs.codemirrorRef.refresh()},getList(){var e={stream_name:"all_stream"};Object(a["e"])(e).then(e=>{console.log(e);var t=e.msg,r=[];for(var i in t)r.push({...t[i],contents:JSON.stringify(t[i]),ips:JSON.stringify(t[i].ips)});this.streamList=r,this.tempList=r})},reset(){this.form={stream_name:"",des:"",port:0,l_type:"tcp",proxy_connect_timeout:"",proxy_timeout:"",ips:"",ngx_file:""}},cancel(){this.open=!1,this.reset()},checkisRewrite_https(){this.form.http.isRewrite_https&&(this.form.isOpenHttps=!0)},handleAdd(){this.reset(),this.title="添加",this.activename="基础",this.open=!0},handleSet(e){this.reset(),this.title="修改",this.activename="基础",this.form=e,this.open=!0},handleDel(e){var t=[e.stream_name],r={stream_names:JSON.stringify(t)};Object(a["b"])(r).then(e=>{"ok"===e.code?(this.$notify({title:"成功",message:e.msg,type:"success"}),this.open=!1,this.getList()):this.$notify({title:"警告",message:e.msg,type:"warning"})})},submitForm(){this.$refs["form"].validate(e=>{});var{stream_name:e,des:t,port:r,l_type:i,proxy_connect_timeout:n,proxy_timeout:s}=this.form,o={stream_name:e,des:t,port:r,l_type:i,proxy_connect_timeout:n,proxy_timeout:s,ips:JSON.parse(this.form.ips)};if("修改"===this.title)if("基础"===this.activename){var l={value:JSON.stringify([{...o}])};Object(a["h"])(l).then(e=>{"ok"===e.code?(this.$notify({title:"成功",message:e.msg,type:"success"}),this.open=!1,this.getList(1)):this.$notify({title:"警告",message:e.msg,type:"warning"})})}else{var c={value:JSON.stringify([{...o,ngx_file:this.form.ngx_file}])};Object(a["h"])(c).then(e=>{"ok"===e.code?(this.$notify({title:"成功",message:e.msg,type:"success"}),this.open=!1,this.getList(1)):this.$notify({title:"警告",message:e.msg,type:"warning"})})}else{var _={value:JSON.stringify([{...o}])};Object(a["a"])(_).then(e=>{"ok"===e.code?(this.$notify({title:"成功",message:e.msg,type:"success"}),this.open=!1,this.getList(1)):this.$notify({title:"警告",message:e.msg,type:"warning"})})}},handleSave(){var e={action:"save",mod:"all_Mod"};Object(o["h"])(e).then(e=>{"ok"==e.code?this.$notify({title:"成功",message:e.msg,type:"success"}):this.$notify({title:"警告",message:e.msg,type:"warning"})})}},filters:{match:function(e){return l.decode(e)}},watch:{$route(e,t){},search:{handler:function(e,t){this.streamList=""===e?this.tempList:this.tempList.filter((function(t){if(t.contents.indexOf(e)>=0)return!0}))}}}},_=c,p=(r("05fa"),r("2877")),u=Object(p["a"])(_,i,n,!1,null,"f28ad55c",null);t["default"]=u.exports},a8d9:function(e,t,r){},ab85:function(e,t,r){},acdf:function(e,t,r){},b2b9:function(e,t,r){(function(e){e(r("56b3"))})((function(e){"use strict";e.defineMode("nginx",(function(e){function t(e){for(var t={},r=e.split(" "),i=0;i<r.length;++i)t[r[i]]=!0;return t}var r,i=t("break return rewrite set accept_mutex accept_mutex_delay access_log add_after_body add_before_body add_header addition_types aio alias allow ancient_browser ancient_browser_value auth_basic auth_basic_user_file auth_http auth_http_header auth_http_timeout autoindex autoindex_exact_size autoindex_localtime charset charset_types client_body_buffer_size client_body_in_file_only client_body_in_single_buffer client_body_temp_path client_body_timeout client_header_buffer_size client_header_timeout client_max_body_size connection_pool_size create_full_put_path daemon dav_access dav_methods debug_connection debug_points default_type degradation degrade deny devpoll_changes devpoll_events directio directio_alignment empty_gif env epoll_events error_log eventport_events expires fastcgi_bind fastcgi_buffer_size fastcgi_buffers fastcgi_busy_buffers_size fastcgi_cache fastcgi_cache_key fastcgi_cache_methods fastcgi_cache_min_uses fastcgi_cache_path fastcgi_cache_use_stale fastcgi_cache_valid fastcgi_catch_stderr fastcgi_connect_timeout fastcgi_hide_header fastcgi_ignore_client_abort fastcgi_ignore_headers fastcgi_index fastcgi_intercept_errors fastcgi_max_temp_file_size fastcgi_next_upstream fastcgi_param fastcgi_pass_header fastcgi_pass_request_body fastcgi_pass_request_headers fastcgi_read_timeout fastcgi_send_lowat fastcgi_send_timeout fastcgi_split_path_info fastcgi_store fastcgi_store_access fastcgi_temp_file_write_size fastcgi_temp_path fastcgi_upstream_fail_timeout fastcgi_upstream_max_fails flv geoip_city geoip_country google_perftools_profiles gzip gzip_buffers gzip_comp_level gzip_disable gzip_hash gzip_http_version gzip_min_length gzip_no_buffer gzip_proxied gzip_static gzip_types gzip_vary gzip_window if_modified_since ignore_invalid_headers image_filter image_filter_buffer image_filter_jpeg_quality image_filter_transparency imap_auth imap_capabilities imap_client_buffer index ip_hash keepalive_requests keepalive_timeout kqueue_changes kqueue_events large_client_header_buffers limit_conn limit_conn_log_level limit_rate limit_rate_after limit_req limit_req_log_level limit_req_zone limit_zone lingering_time lingering_timeout lock_file log_format log_not_found log_subrequest map_hash_bucket_size map_hash_max_size master_process memcached_bind memcached_buffer_size memcached_connect_timeout memcached_next_upstream memcached_read_timeout memcached_send_timeout memcached_upstream_fail_timeout memcached_upstream_max_fails merge_slashes min_delete_depth modern_browser modern_browser_value msie_padding msie_refresh multi_accept open_file_cache open_file_cache_errors open_file_cache_events open_file_cache_min_uses open_file_cache_valid open_log_file_cache output_buffers override_charset perl perl_modules perl_require perl_set pid pop3_auth pop3_capabilities port_in_redirect postpone_gzipping postpone_output protocol proxy proxy_bind proxy_buffer proxy_buffer_size proxy_buffering proxy_buffers proxy_busy_buffers_size proxy_cache proxy_cache_key proxy_cache_methods proxy_cache_min_uses proxy_cache_path proxy_cache_use_stale proxy_cache_valid proxy_connect_timeout proxy_headers_hash_bucket_size proxy_headers_hash_max_size proxy_hide_header proxy_ignore_client_abort proxy_ignore_headers proxy_intercept_errors proxy_max_temp_file_size proxy_method proxy_next_upstream proxy_pass_error_message proxy_pass_header proxy_pass_request_body proxy_pass_request_headers proxy_read_timeout proxy_redirect proxy_send_lowat proxy_send_timeout proxy_set_body proxy_set_header proxy_ssl_session_reuse proxy_store proxy_store_access proxy_temp_file_write_size proxy_temp_path proxy_timeout proxy_upstream_fail_timeout proxy_upstream_max_fails random_index read_ahead real_ip_header recursive_error_pages request_pool_size reset_timedout_connection resolver resolver_timeout rewrite_log rtsig_overflow_events rtsig_overflow_test rtsig_overflow_threshold rtsig_signo satisfy secure_link_secret send_lowat send_timeout sendfile sendfile_max_chunk server_name_in_redirect server_names_hash_bucket_size server_names_hash_max_size server_tokens set_real_ip_from smtp_auth smtp_capabilities smtp_client_buffer smtp_greeting_delay so_keepalive source_charset ssi ssi_ignore_recycled_buffers ssi_min_file_chunk ssi_silent_errors ssi_types ssi_value_length ssl ssl_certificate ssl_certificate_key ssl_ciphers ssl_client_certificate ssl_crl ssl_dhparam ssl_engine ssl_prefer_server_ciphers ssl_protocols ssl_session_cache ssl_session_timeout ssl_verify_client ssl_verify_depth starttls stub_status sub_filter sub_filter_once sub_filter_types tcp_nodelay tcp_nopush thread_stack_size timeout timer_resolution types_hash_bucket_size types_hash_max_size underscores_in_headers uninitialized_variable_warn use user userid userid_domain userid_expires userid_mark userid_name userid_p3p userid_path userid_service valid_referers variables_hash_bucket_size variables_hash_max_size worker_connections worker_cpu_affinity worker_priority worker_processes worker_rlimit_core worker_rlimit_nofile worker_rlimit_sigpending worker_threads working_directory xclient xml_entities xslt_stylesheet xslt_typesdrew@li229-23"),n=t("http mail events server types location upstream charset_map limit_except if geo map"),s=t("include root server server_name listen internal proxy_pass memcached_pass fastcgi_pass try_files"),a=e.indentUnit;function o(e,t){return r=t,e}function l(e,t){e.eatWhile(/[\w\$_]/);var r=e.current();if(i.propertyIsEnumerable(r))return"keyword";if(n.propertyIsEnumerable(r))return"variable-2";if(s.propertyIsEnumerable(r))return"string-2";var a=e.next();return"@"==a?(e.eatWhile(/[\w\\\-]/),o("meta",e.current())):"/"==a&&e.eat("*")?(t.tokenize=c,c(e,t)):"<"==a&&e.eat("!")?(t.tokenize=_,_(e,t)):"="!=a?"~"!=a&&"|"!=a||!e.eat("=")?'"'==a||"'"==a?(t.tokenize=p(a),t.tokenize(e,t)):"#"==a?(e.skipToEnd(),o("comment","comment")):"!"==a?(e.match(/^\s*\w*/),o("keyword","important")):/\d/.test(a)?(e.eatWhile(/[\w.%]/),o("number","unit")):/[,.+>*\/]/.test(a)?o(null,"select-op"):/[;{}:\[\]]/.test(a)?o(null,a):(e.eatWhile(/[\w\\\-]/),o("variable","variable")):o(null,"compare"):void o(null,"compare")}function c(e,t){var r,i=!1;while(null!=(r=e.next())){if(i&&"/"==r){t.tokenize=l;break}i="*"==r}return o("comment","comment")}function _(e,t){var r,i=0;while(null!=(r=e.next())){if(i>=2&&">"==r){t.tokenize=l;break}i="-"==r?i+1:0}return o("comment","comment")}function p(e){return function(t,r){var i,n=!1;while(null!=(i=t.next())){if(i==e&&!n)break;n=!n&&"\\"==i}return n||(r.tokenize=l),o("string","string")}}return{startState:function(e){return{tokenize:l,baseIndent:e||0,stack:[]}},token:function(e,t){if(e.eatSpace())return null;r=null;var i=t.tokenize(e,t),n=t.stack[t.stack.length-1];return"hash"==r&&"rule"==n?i="atom":"variable"==i&&("rule"==n?i="number":n&&"@media{"!=n||(i="tag")),"rule"==n&&/^[\{\};]$/.test(r)&&t.stack.pop(),"{"==r?"@media"==n?t.stack[t.stack.length-1]="@media{":t.stack.push("{"):"}"==r?t.stack.pop():"@media"==r?t.stack.push("@media"):"{"==n&&"comment"!=r&&t.stack.push("rule"),i},indent:function(e,t){var r=e.stack.length;return/^\}/.test(t)&&(r-="rule"==e.stack[e.stack.length-1]?2:1),e.baseIndent+r*a},electricChars:"}"}})),e.defineMIME("text/x-nginx-conf","nginx")}))},db91:function(e,t,r){(function(e){e(r("56b3"))})((function(e){"use strict";function t(e){return new RegExp("^(("+e.join(")|(")+"))\\b")}var r=t(["and","or","not","is"]),i=["as","assert","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","lambda","pass","raise","return","try","while","with","yield","in","False","True"],n=["abs","all","any","bin","bool","bytearray","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip","__import__","NotImplemented","Ellipsis","__debug__"];function s(e){return e.scopes[e.scopes.length-1]}e.registerHelper("hintWords","python",i.concat(n).concat(["exec","print"])),e.defineMode("python",(function(a,o){for(var l="error",c=o.delimiters||o.singleDelimiters||/^[\(\)\[\]\{\}@,:`=;\.\\]/,_=[o.singleOperators,o.doubleOperators,o.doubleDelimiters,o.tripleDelimiters,o.operators||/^([-+*/%\/&|^]=?|[<>=]+|\/\/=?|\*\*=?|!=|[~!@]|\.\.\.)/],p=0;p<_.length;p++)_[p]||_.splice(p--,1);var u=o.hangingIndent||a.indentUnit,m=i,f=n;void 0!=o.extra_keywords&&(m=m.concat(o.extra_keywords)),void 0!=o.extra_builtins&&(f=f.concat(o.extra_builtins));var d=!(o.version&&Number(o.version)<3);if(d){var h=o.identifiers||/^[_A-Za-z\u00A1-\uFFFF][_A-Za-z0-9\u00A1-\uFFFF]*/;m=m.concat(["nonlocal","None","aiter","anext","async","await","breakpoint","match","case"]),f=f.concat(["ascii","bytes","exec","print"]);var g=new RegExp("^(([rbuf]|(br)|(rb)|(fr)|(rf))?('{3}|\"{3}|['\"]))","i")}else{h=o.identifiers||/^[_A-Za-z][_A-Za-z0-9]*/;m=m.concat(["exec","print"]),f=f.concat(["apply","basestring","buffer","cmp","coerce","execfile","file","intern","long","raw_input","reduce","reload","unichr","unicode","xrange","None"]);g=new RegExp("^(([rubf]|(ur)|(br))?('{3}|\"{3}|['\"]))","i")}var y=t(m),b=t(f);function v(e,t){var r=e.sol()&&"\\"!=t.lastToken;if(r&&(t.indent=e.indentation()),r&&"py"==s(t).type){var i=s(t).offset;if(e.eatSpace()){var n=e.indentation();return n>i?z(t):n<i&&O(e,t)&&"#"!=e.peek()&&(t.errorToken=!0),null}var a=x(e,t);return i>0&&O(e,t)&&(a+=" "+l),a}return x(e,t)}function x(e,t,i){if(e.eatSpace())return null;if(!i&&e.match(/^#.*/))return"comment";if(e.match(/^[0-9\.]/,!1)){var n=!1;if(e.match(/^[\d_]*\.\d+(e[\+\-]?\d+)?/i)&&(n=!0),e.match(/^[\d_]+\.\d*/)&&(n=!0),e.match(/^\.\d+/)&&(n=!0),n)return e.eat(/J/i),"number";var s=!1;if(e.match(/^0x[0-9a-f_]+/i)&&(s=!0),e.match(/^0b[01_]+/i)&&(s=!0),e.match(/^0o[0-7_]+/i)&&(s=!0),e.match(/^[1-9][\d_]*(e[\+\-]?[\d_]+)?/)&&(e.eat(/J/i),s=!0),e.match(/^0(?![\dx])/i)&&(s=!0),s)return e.eat(/L/i),"number"}if(e.match(g)){var a=-1!==e.current().toLowerCase().indexOf("f");return a?(t.tokenize=k(e.current(),t.tokenize),t.tokenize(e,t)):(t.tokenize=w(e.current(),t.tokenize),t.tokenize(e,t))}for(var o=0;o<_.length;o++)if(e.match(_[o]))return"operator";return e.match(c)?"punctuation":"."==t.lastToken&&e.match(h)?"property":e.match(y)||e.match(r)?"keyword":e.match(b)?"builtin":e.match(/^(self|cls)\b/)?"variable-2":e.match(h)?"def"==t.lastToken||"class"==t.lastToken?"def":"variable":(e.next(),i?null:l)}function k(e,t){while("rubf".indexOf(e.charAt(0).toLowerCase())>=0)e=e.substr(1);var r=1==e.length,i="string";function n(e){return function(t,r){var i=x(t,r,!0);return"punctuation"==i&&("{"==t.current()?r.tokenize=n(e+1):"}"==t.current()&&(r.tokenize=e>1?n(e-1):s)),i}}function s(s,a){while(!s.eol())if(s.eatWhile(/[^'"\{\}\\]/),s.eat("\\")){if(s.next(),r&&s.eol())return i}else{if(s.match(e))return a.tokenize=t,i;if(s.match("{{"))return i;if(s.match("{",!1))return a.tokenize=n(0),s.current()?i:a.tokenize(s,a);if(s.match("}}"))return i;if(s.match("}"))return l;s.eat(/['"]/)}if(r){if(o.singleLineStringErrors)return l;a.tokenize=t}return i}return s.isString=!0,s}function w(e,t){while("rubf".indexOf(e.charAt(0).toLowerCase())>=0)e=e.substr(1);var r=1==e.length,i="string";function n(n,s){while(!n.eol())if(n.eatWhile(/[^'"\\]/),n.eat("\\")){if(n.next(),r&&n.eol())return i}else{if(n.match(e))return s.tokenize=t,i;n.eat(/['"]/)}if(r){if(o.singleLineStringErrors)return l;s.tokenize=t}return i}return n.isString=!0,n}function z(e){while("py"!=s(e).type)e.scopes.pop();e.scopes.push({offset:s(e).offset+a.indentUnit,type:"py",align:null})}function S(e,t,r){var i=e.match(/^[\s\[\{\(]*(?:#|$)/,!1)?null:e.column()+1;t.scopes.push({offset:t.indent+u,type:r,align:i})}function O(e,t){var r=e.indentation();while(t.scopes.length>1&&s(t).offset>r){if("py"!=s(t).type)return!0;t.scopes.pop()}return s(t).offset!=r}function $(e,t){e.sol()&&(t.beginningOfLine=!0,t.dedent=!1);var r=t.tokenize(e,t),i=e.current();if(t.beginningOfLine&&"@"==i)return e.match(h,!1)?"meta":d?"operator":l;if(/\S/.test(i)&&(t.beginningOfLine=!1),"variable"!=r&&"builtin"!=r||"meta"!=t.lastToken||(r="meta"),"pass"!=i&&"return"!=i||(t.dedent=!0),"lambda"==i&&(t.lambda=!0),":"==i&&!t.lambda&&"py"==s(t).type&&e.match(/^\s*(?:#|$)/,!1)&&z(t),1==i.length&&!/string|comment/.test(r)){var n="[({".indexOf(i);if(-1!=n&&S(e,t,"])}".slice(n,n+1)),n="])}".indexOf(i),-1!=n){if(s(t).type!=i)return l;t.indent=t.scopes.pop().offset-u}}return t.dedent&&e.eol()&&"py"==s(t).type&&t.scopes.length>1&&t.scopes.pop(),r}var L={startState:function(e){return{tokenize:v,scopes:[{offset:e||0,type:"py",align:null}],indent:e||0,lastToken:null,lambda:!1,dedent:0}},token:function(e,t){var r=t.errorToken;r&&(t.errorToken=!1);var i=$(e,t);return i&&"comment"!=i&&(t.lastToken="keyword"==i||"punctuation"==i?e.current():i),"punctuation"==i&&(i=null),e.eol()&&t.lambda&&(t.lambda=!1),r?i+" "+l:i},indent:function(t,r){if(t.tokenize!=v)return t.tokenize.isString?e.Pass:0;var i=s(t),n=i.type==r.charAt(0)||"py"==i.type&&!t.dedent&&/^(else:|elif |except |finally:)/.test(r);return null!=i.align?i.align-(n?1:0):i.offset-(n?u:0)},electricInput:/^\s*([\}\]\)]|else:|elif |except |finally:)$/,closeBrackets:{triples:"'\""},lineComment:"#",fold:"indent"};return L})),e.defineMIME("text/x-python","python");var a=function(e){return e.split(" ")};e.defineMIME("text/x-cython",{name:"python",extra_keywords:a("by cdef cimport cpdef ctypedef enum except extern gil include nogil property public readonly struct union DEF IF ELIF ELSE")})}))}}]);