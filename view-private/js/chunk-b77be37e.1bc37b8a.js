(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b77be37e"],{5919:function(e,t,i){"use strict";i.d(t,"h",(function(){return n})),i.d(t,"c",(function(){return l})),i.d(t,"f",(function(){return c})),i.d(t,"g",(function(){return p})),i.d(t,"i",(function(){return _})),i.d(t,"a",(function(){return f})),i.d(t,"d",(function(){return u})),i.d(t,"j",(function(){return m})),i.d(t,"b",(function(){return d})),i.d(t,"e",(function(){return h}));var r=i("b775"),s=i("4328"),o=i.n(s),a=i("365c");function n(e){return Object(r["a"])({url:""+a["a"].domain.getDomain,method:"post",data:o.a.stringify(e)})}function l(e){return Object(r["a"])({url:""+a["a"].domain.defenseDomain,method:"post",data:o.a.stringify(e)})}function c(e){return Object(r["a"])({url:""+a["a"].domain.getCertification,method:"post",data:o.a.stringify(e)})}function p(){return Object(r["a"])({url:""+a["a"].domain.getCertification,method:"post"})}function _(e){return Object(r["a"])({url:""+a["a"].domain.setCertification,method:"post",data:o.a.stringify(e)})}function f(e){return Object(r["a"])({url:""+a["a"].domain.addCertification,method:"post",data:o.a.stringify(e)})}function u(e){return Object(r["a"])({url:""+a["a"].domain.delCertification,method:"post",data:o.a.stringify(e)})}function m(e){return Object(r["a"])({url:""+a["a"].domain.setDomain,method:"post",data:o.a.stringify(e)})}function d(e){return Object(r["a"])({url:""+a["a"].domain.addDomain,method:"post",data:o.a.stringify(e)})}function h(e){return Object(r["a"])({url:""+a["a"].domain.delDomain,method:"post",data:o.a.stringify(e)})}},a8d9:function(e,t,i){},acdf:function(e,t,i){},b2b9:function(e,t,i){(function(e){e(i("56b3"))})((function(e){"use strict";e.defineMode("nginx",(function(e){function t(e){for(var t={},i=e.split(" "),r=0;r<i.length;++r)t[i[r]]=!0;return t}var i,r=t("break return rewrite set accept_mutex accept_mutex_delay access_log add_after_body add_before_body add_header addition_types aio alias allow ancient_browser ancient_browser_value auth_basic auth_basic_user_file auth_http auth_http_header auth_http_timeout autoindex autoindex_exact_size autoindex_localtime charset charset_types client_body_buffer_size client_body_in_file_only client_body_in_single_buffer client_body_temp_path client_body_timeout client_header_buffer_size client_header_timeout client_max_body_size connection_pool_size create_full_put_path daemon dav_access dav_methods debug_connection debug_points default_type degradation degrade deny devpoll_changes devpoll_events directio directio_alignment empty_gif env epoll_events error_log eventport_events expires fastcgi_bind fastcgi_buffer_size fastcgi_buffers fastcgi_busy_buffers_size fastcgi_cache fastcgi_cache_key fastcgi_cache_methods fastcgi_cache_min_uses fastcgi_cache_path fastcgi_cache_use_stale fastcgi_cache_valid fastcgi_catch_stderr fastcgi_connect_timeout fastcgi_hide_header fastcgi_ignore_client_abort fastcgi_ignore_headers fastcgi_index fastcgi_intercept_errors fastcgi_max_temp_file_size fastcgi_next_upstream fastcgi_param fastcgi_pass_header fastcgi_pass_request_body fastcgi_pass_request_headers fastcgi_read_timeout fastcgi_send_lowat fastcgi_send_timeout fastcgi_split_path_info fastcgi_store fastcgi_store_access fastcgi_temp_file_write_size fastcgi_temp_path fastcgi_upstream_fail_timeout fastcgi_upstream_max_fails flv geoip_city geoip_country google_perftools_profiles gzip gzip_buffers gzip_comp_level gzip_disable gzip_hash gzip_http_version gzip_min_length gzip_no_buffer gzip_proxied gzip_static gzip_types gzip_vary gzip_window if_modified_since ignore_invalid_headers image_filter image_filter_buffer image_filter_jpeg_quality image_filter_transparency imap_auth imap_capabilities imap_client_buffer index ip_hash keepalive_requests keepalive_timeout kqueue_changes kqueue_events large_client_header_buffers limit_conn limit_conn_log_level limit_rate limit_rate_after limit_req limit_req_log_level limit_req_zone limit_zone lingering_time lingering_timeout lock_file log_format log_not_found log_subrequest map_hash_bucket_size map_hash_max_size master_process memcached_bind memcached_buffer_size memcached_connect_timeout memcached_next_upstream memcached_read_timeout memcached_send_timeout memcached_upstream_fail_timeout memcached_upstream_max_fails merge_slashes min_delete_depth modern_browser modern_browser_value msie_padding msie_refresh multi_accept open_file_cache open_file_cache_errors open_file_cache_events open_file_cache_min_uses open_file_cache_valid open_log_file_cache output_buffers override_charset perl perl_modules perl_require perl_set pid pop3_auth pop3_capabilities port_in_redirect postpone_gzipping postpone_output protocol proxy proxy_bind proxy_buffer proxy_buffer_size proxy_buffering proxy_buffers proxy_busy_buffers_size proxy_cache proxy_cache_key proxy_cache_methods proxy_cache_min_uses proxy_cache_path proxy_cache_use_stale proxy_cache_valid proxy_connect_timeout proxy_headers_hash_bucket_size proxy_headers_hash_max_size proxy_hide_header proxy_ignore_client_abort proxy_ignore_headers proxy_intercept_errors proxy_max_temp_file_size proxy_method proxy_next_upstream proxy_pass_error_message proxy_pass_header proxy_pass_request_body proxy_pass_request_headers proxy_read_timeout proxy_redirect proxy_send_lowat proxy_send_timeout proxy_set_body proxy_set_header proxy_ssl_session_reuse proxy_store proxy_store_access proxy_temp_file_write_size proxy_temp_path proxy_timeout proxy_upstream_fail_timeout proxy_upstream_max_fails random_index read_ahead real_ip_header recursive_error_pages request_pool_size reset_timedout_connection resolver resolver_timeout rewrite_log rtsig_overflow_events rtsig_overflow_test rtsig_overflow_threshold rtsig_signo satisfy secure_link_secret send_lowat send_timeout sendfile sendfile_max_chunk server_name_in_redirect server_names_hash_bucket_size server_names_hash_max_size server_tokens set_real_ip_from smtp_auth smtp_capabilities smtp_client_buffer smtp_greeting_delay so_keepalive source_charset ssi ssi_ignore_recycled_buffers ssi_min_file_chunk ssi_silent_errors ssi_types ssi_value_length ssl ssl_certificate ssl_certificate_key ssl_ciphers ssl_client_certificate ssl_crl ssl_dhparam ssl_engine ssl_prefer_server_ciphers ssl_protocols ssl_session_cache ssl_session_timeout ssl_verify_client ssl_verify_depth starttls stub_status sub_filter sub_filter_once sub_filter_types tcp_nodelay tcp_nopush thread_stack_size timeout timer_resolution types_hash_bucket_size types_hash_max_size underscores_in_headers uninitialized_variable_warn use user userid userid_domain userid_expires userid_mark userid_name userid_p3p userid_path userid_service valid_referers variables_hash_bucket_size variables_hash_max_size worker_connections worker_cpu_affinity worker_priority worker_processes worker_rlimit_core worker_rlimit_nofile worker_rlimit_sigpending worker_threads working_directory xclient xml_entities xslt_stylesheet xslt_typesdrew@li229-23"),s=t("http mail events server types location upstream charset_map limit_except if geo map"),o=t("include root server server_name listen internal proxy_pass memcached_pass fastcgi_pass try_files"),a=e.indentUnit;function n(e,t){return i=t,e}function l(e,t){e.eatWhile(/[\w\$_]/);var i=e.current();if(r.propertyIsEnumerable(i))return"keyword";if(s.propertyIsEnumerable(i))return"variable-2";if(o.propertyIsEnumerable(i))return"string-2";var a=e.next();return"@"==a?(e.eatWhile(/[\w\\\-]/),n("meta",e.current())):"/"==a&&e.eat("*")?(t.tokenize=c,c(e,t)):"<"==a&&e.eat("!")?(t.tokenize=p,p(e,t)):"="!=a?"~"!=a&&"|"!=a||!e.eat("=")?'"'==a||"'"==a?(t.tokenize=_(a),t.tokenize(e,t)):"#"==a?(e.skipToEnd(),n("comment","comment")):"!"==a?(e.match(/^\s*\w*/),n("keyword","important")):/\d/.test(a)?(e.eatWhile(/[\w.%]/),n("number","unit")):/[,.+>*\/]/.test(a)?n(null,"select-op"):/[;{}:\[\]]/.test(a)?n(null,a):(e.eatWhile(/[\w\\\-]/),n("variable","variable")):n(null,"compare"):void n(null,"compare")}function c(e,t){var i,r=!1;while(null!=(i=e.next())){if(r&&"/"==i){t.tokenize=l;break}r="*"==i}return n("comment","comment")}function p(e,t){var i,r=0;while(null!=(i=e.next())){if(r>=2&&">"==i){t.tokenize=l;break}r="-"==i?r+1:0}return n("comment","comment")}function _(e){return function(t,i){var r,s=!1;while(null!=(r=t.next())){if(r==e&&!s)break;s=!s&&"\\"==r}return s||(i.tokenize=l),n("string","string")}}return{startState:function(e){return{tokenize:l,baseIndent:e||0,stack:[]}},token:function(e,t){if(e.eatSpace())return null;i=null;var r=t.tokenize(e,t),s=t.stack[t.stack.length-1];return"hash"==i&&"rule"==s?r="atom":"variable"==r&&("rule"==s?r="number":s&&"@media{"!=s||(r="tag")),"rule"==s&&/^[\{\};]$/.test(i)&&t.stack.pop(),"{"==i?"@media"==s?t.stack[t.stack.length-1]="@media{":t.stack.push("{"):"}"==i?t.stack.pop():"@media"==i?t.stack.push("@media"):"{"==s&&"comment"!=i&&t.stack.push("rule"),r},indent:function(e,t){var i=e.stack.length;return/^\}/.test(t)&&(i-="rule"==e.stack[e.stack.length-1]?2:1),e.baseIndent+i*a},electricChars:"}"}})),e.defineMIME("text/x-nginx-conf","nginx")}))},db91:function(e,t,i){(function(e){e(i("56b3"))})((function(e){"use strict";function t(e){return new RegExp("^(("+e.join(")|(")+"))\\b")}var i=t(["and","or","not","is"]),r=["as","assert","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","lambda","pass","raise","return","try","while","with","yield","in"],s=["abs","all","any","bin","bool","bytearray","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip","__import__","NotImplemented","Ellipsis","__debug__"];function o(e){return e.scopes[e.scopes.length-1]}e.registerHelper("hintWords","python",r.concat(s).concat(["exec","print"])),e.defineMode("python",(function(a,n){for(var l="error",c=n.delimiters||n.singleDelimiters||/^[\(\)\[\]\{\}@,:`=;\.\\]/,p=[n.singleOperators,n.doubleOperators,n.doubleDelimiters,n.tripleDelimiters,n.operators||/^([-+*/%\/&|^]=?|[<>=]+|\/\/=?|\*\*=?|!=|[~!@]|\.\.\.)/],_=0;_<p.length;_++)p[_]||p.splice(_--,1);var f=n.hangingIndent||a.indentUnit,u=r,m=s;void 0!=n.extra_keywords&&(u=u.concat(n.extra_keywords)),void 0!=n.extra_builtins&&(m=m.concat(n.extra_builtins));var d=!(n.version&&Number(n.version)<3);if(d){var h=n.identifiers||/^[_A-Za-z\u00A1-\uFFFF][_A-Za-z0-9\u00A1-\uFFFF]*/;u=u.concat(["nonlocal","False","True","None","async","await"]),m=m.concat(["ascii","bytes","exec","print"]);var g=new RegExp("^(([rbuf]|(br)|(rb)|(fr)|(rf))?('{3}|\"{3}|['\"]))","i")}else{h=n.identifiers||/^[_A-Za-z][_A-Za-z0-9]*/;u=u.concat(["exec","print"]),m=m.concat(["apply","basestring","buffer","cmp","coerce","execfile","file","intern","long","raw_input","reduce","reload","unichr","unicode","xrange","False","True","None"]);g=new RegExp("^(([rubf]|(ur)|(br))?('{3}|\"{3}|['\"]))","i")}var b=t(u),y=t(m);function v(e,t){var i=e.sol()&&"\\"!=t.lastToken;if(i&&(t.indent=e.indentation()),i&&"py"==o(t).type){var r=o(t).offset;if(e.eatSpace()){var s=e.indentation();return s>r?z(t):s<r&&O(e,t)&&"#"!=e.peek()&&(t.errorToken=!0),null}var a=x(e,t);return r>0&&O(e,t)&&(a+=" "+l),a}return x(e,t)}function x(e,t,r){if(e.eatSpace())return null;if(!r&&e.match(/^#.*/))return"comment";if(e.match(/^[0-9\.]/,!1)){var s=!1;if(e.match(/^[\d_]*\.\d+(e[\+\-]?\d+)?/i)&&(s=!0),e.match(/^[\d_]+\.\d*/)&&(s=!0),e.match(/^\.\d+/)&&(s=!0),s)return e.eat(/J/i),"number";var o=!1;if(e.match(/^0x[0-9a-f_]+/i)&&(o=!0),e.match(/^0b[01_]+/i)&&(o=!0),e.match(/^0o[0-7_]+/i)&&(o=!0),e.match(/^[1-9][\d_]*(e[\+\-]?[\d_]+)?/)&&(e.eat(/J/i),o=!0),e.match(/^0(?![\dx])/i)&&(o=!0),o)return e.eat(/L/i),"number"}if(e.match(g)){var a=-1!==e.current().toLowerCase().indexOf("f");return a?(t.tokenize=k(e.current(),t.tokenize),t.tokenize(e,t)):(t.tokenize=w(e.current(),t.tokenize),t.tokenize(e,t))}for(var n=0;n<p.length;n++)if(e.match(p[n]))return"operator";return e.match(c)?"punctuation":"."==t.lastToken&&e.match(h)?"property":e.match(b)||e.match(i)?"keyword":e.match(y)?"builtin":e.match(/^(self|cls)\b/)?"variable-2":e.match(h)?"def"==t.lastToken||"class"==t.lastToken?"def":"variable":(e.next(),r?null:l)}function k(e,t){while("rubf".indexOf(e.charAt(0).toLowerCase())>=0)e=e.substr(1);var i=1==e.length,r="string";function s(e){return function(t,i){var r=x(t,i,!0);return"punctuation"==r&&("{"==t.current()?i.tokenize=s(e+1):"}"==t.current()&&(i.tokenize=e>1?s(e-1):o)),r}}function o(o,a){while(!o.eol())if(o.eatWhile(/[^'"\{\}\\]/),o.eat("\\")){if(o.next(),i&&o.eol())return r}else{if(o.match(e))return a.tokenize=t,r;if(o.match("{{"))return r;if(o.match("{",!1))return a.tokenize=s(0),o.current()?r:a.tokenize(o,a);if(o.match("}}"))return r;if(o.match("}"))return l;o.eat(/['"]/)}if(i){if(n.singleLineStringErrors)return l;a.tokenize=t}return r}return o.isString=!0,o}function w(e,t){while("rubf".indexOf(e.charAt(0).toLowerCase())>=0)e=e.substr(1);var i=1==e.length,r="string";function s(s,o){while(!s.eol())if(s.eatWhile(/[^'"\\]/),s.eat("\\")){if(s.next(),i&&s.eol())return r}else{if(s.match(e))return o.tokenize=t,r;s.eat(/['"]/)}if(i){if(n.singleLineStringErrors)return l;o.tokenize=t}return r}return s.isString=!0,s}function z(e){while("py"!=o(e).type)e.scopes.pop();e.scopes.push({offset:o(e).offset+a.indentUnit,type:"py",align:null})}function S(e,t,i){var r=e.match(/^[\s\[\{\(]*(?:#|$)/,!1)?null:e.column()+1;t.scopes.push({offset:t.indent+f,type:i,align:r})}function O(e,t){var i=e.indentation();while(t.scopes.length>1&&o(t).offset>i){if("py"!=o(t).type)return!0;t.scopes.pop()}return o(t).offset!=i}function T(e,t){e.sol()&&(t.beginningOfLine=!0,t.dedent=!1);var i=t.tokenize(e,t),r=e.current();if(t.beginningOfLine&&"@"==r)return e.match(h,!1)?"meta":d?"operator":l;if(/\S/.test(r)&&(t.beginningOfLine=!1),"variable"!=i&&"builtin"!=i||"meta"!=t.lastToken||(i="meta"),"pass"!=r&&"return"!=r||(t.dedent=!0),"lambda"==r&&(t.lambda=!0),":"==r&&!t.lambda&&"py"==o(t).type&&e.match(/^\s*(?:#|$)/,!1)&&z(t),1==r.length&&!/string|comment/.test(i)){var s="[({".indexOf(r);if(-1!=s&&S(e,t,"])}".slice(s,s+1)),s="])}".indexOf(r),-1!=s){if(o(t).type!=r)return l;t.indent=t.scopes.pop().offset-f}}return t.dedent&&e.eol()&&"py"==o(t).type&&t.scopes.length>1&&t.scopes.pop(),i}var $={startState:function(e){return{tokenize:v,scopes:[{offset:e||0,type:"py",align:null}],indent:e||0,lastToken:null,lambda:!1,dedent:0}},token:function(e,t){var i=t.errorToken;i&&(t.errorToken=!1);var r=T(e,t);return r&&"comment"!=r&&(t.lastToken="keyword"==r||"punctuation"==r?e.current():r),"punctuation"==r&&(r=null),e.eol()&&t.lambda&&(t.lambda=!1),i?r+" "+l:r},indent:function(t,i){if(t.tokenize!=v)return t.tokenize.isString?e.Pass:0;var r=o(t),s=r.type==i.charAt(0)||"py"==r.type&&!t.dedent&&/^(else:|elif |except |finally:)/.test(i);return null!=r.align?r.align-(s?1:0):r.offset-(s?f:0)},electricInput:/^\s*([\}\]\)]|else:|elif |except |finally:)$/,closeBrackets:{triples:"'\""},lineComment:"#",fold:"indent"};return $})),e.defineMIME("text/x-python","python");var a=function(e){return e.split(" ")};e.defineMIME("text/x-cython",{name:"python",extra_keywords:a("by cdef cimport cpdef ctypedef enum except extern gil include nogil property public readonly struct union DEF IF ELIF ELSE")})}))},ea43:function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"app-container"},[t("el-card",{attrs:{shadow:"never"}},[t("el-row",{staticStyle:{"margin-bottom":"10px","margin-left":"10px"},attrs:{gutter:10}},[t("div",{staticStyle:{width:"300px",float:"left"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-search",placeholder:"请输入搜索内容"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t("div",{staticClass:"el-icon-info",staticStyle:{"margin-left":"100px",float:"left"}},[t("span",{staticStyle:{color:"red"}},[e._v("注：")]),e._v("域名配置有变更时，需要重启整个集群，使其生效")]),t("div",{staticStyle:{float:"right"}},[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleAdd}},[e._v("添加域名")]),t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleSave}},[e._v("保存")])],1)]),t("el-row",{staticStyle:{margin:"20px"}},[e._v(" 当前数量："+e._s(e.pageTotal)+" ")]),t("el-table",{staticStyle:{"margin-bottom":"80px"},attrs:{data:e.tableList,border:""}},[t("el-table-column",{attrs:{label:"域名",align:"left",prop:"host"}}),t("el-table-column",{attrs:{label:"http/https",width:"450",align:"left","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(i){return[e._v(" "+e._s(i.row.http)+" "),t("br"),e._v(" "+e._s(i.row.https)+" ")]}}])}),t("el-table-column",{attrs:{label:"IP/CNAME",align:"left",width:"400",prop:"ips","show-overflow-tooltip":!0}}),t("el-table-column",{attrs:{label:"源站协议",align:"left",prop:"proxy_protocol","show-overflow-tooltip":!0}}),t("el-table-column",{attrs:{label:"是否开启https",align:"left",prop:"isOpenHttps","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("match")(t.row.isOpenHttps))+" ")]}}])}),t("el-table-column",{attrs:{label:"文件状态",align:"left",prop:"disk_file","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("match")(t.row.disk_file))+" ")]}}])}),t("el-table-column",{attrs:{label:"操作",align:"left",width:"260","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("el-button",{staticStyle:{color:"orange"},attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(t){return e.handleSet(i.row)}}},[e._v("修改")]),t("el-popover",{attrs:{placement:"top",width:"160"},model:{value:i.row.visible,callback:function(t){e.$set(i.row,"visible",t)},expression:"scope.row.visible"}},[t("p",[e._v("确定要删除吗?")]),t("div",{staticStyle:{"text-align":"right",margin:"0"}},[t("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){i.row.visible=!1}}},[e._v("取消")]),t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handleDel(i.row)}}},[e._v("确定")])],1),t("el-button",{staticStyle:{color:"red","margin-left":"10px"},attrs:{slot:"reference",size:"mini",type:"text",icon:"el-icon-delete"},slot:"reference"},[e._v("删除")])],1)]}}])})],1),t("el-dialog",{attrs:{title:e.title,visible:e.open,width:"50%"},on:{"update:visible":function(t){e.open=t}}},[t("el-tabs",{on:{"tab-click":this.tabClick},model:{value:e.activename,callback:function(t){e.activename=t},expression:"activename"}},[t("el-tab-pane",{attrs:{label:"基础",name:"基础"}},[t("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"85px"}},[t("el-form-item",{attrs:{label:"域名:",prop:"host"}},[t("el-input",{directives:[{name:"show",rawName:"v-show",value:"添加"===e.title,expression:"title === '添加'"}],model:{value:e.form.host,callback:function(t){e.$set(e.form,"host",t)},expression:"form.host"}}),t("el-input",{directives:[{name:"show",rawName:"v-show",value:"修改"===e.title,expression:"title === '修改'"}],attrs:{disabled:""},model:{value:e.form.host,callback:function(t){e.$set(e.form,"host",t)},expression:"form.host"}})],1),t("el-form-item",{attrs:{label:"协议:"}},[t("el-row",[t("el-col",{staticStyle:{float:"left"},attrs:{span:10}},[t("el-radio",{attrs:{label:"HTTP",value:"HTTP"}})],1),t("el-col",{staticStyle:{"text-align":"right"},attrs:{span:14}},[t("span",[e._v("监听端口:")]),t("el-input",{staticStyle:{"margin-left":"10px",width:"60%"},attrs:{disabled:""},model:{value:e.form.http.port,callback:function(t){e.$set(e.form.http,"port",t)},expression:"form.http.port"}})],1)],1),t("el-col",[t("el-checkbox",{on:{change:e.checkisRewrite_https},model:{value:e.form.http.isRewrite_https,callback:function(t){e.$set(e.form.http,"isRewrite_https",t)},expression:"form.http.isRewrite_https"}},[e._v("强制跳转 HTTPS")])],1)],1),t("el-checkbox",{staticStyle:{"margin-left":"45px","margin-bottom":"22px","font-weight":"700"},model:{value:e.form.isOpenHttps,callback:function(t){e.$set(e.form,"isOpenHttps",t)},expression:"form.isOpenHttps"}},[e._v("是否启用HTTPS")]),e.form.isOpenHttps?t("el-form-item",{staticStyle:{border:"1px solid #DCDFE6","padding-top":"12px"},attrs:{label:""}},[t("el-col",{staticStyle:{float:"left"}},[t("span",[e._v("监听端口")]),t("el-input",{staticStyle:{margin:"0 10px",width:"50%"},attrs:{disabled:""},model:{value:e.form.https.port,callback:function(t){e.$set(e.form.https,"port",t)},expression:"form.https.port"}}),t("span",{staticStyle:{color:"red"}},[e._v("* ")]),e._v("默认为443端口 ")],1),t("el-col",{staticStyle:{float:"left","margin-top":"22px"}},[t("span",[e._v("证书配置")]),t("el-select",{staticStyle:{"margin-left":"10px","margin-right":"10px",width:"60%"},attrs:{placeholder:"请选择证书"},model:{value:e.form.https.certs_key,callback:function(t){e.$set(e.form.https,"certs_key",t)},expression:"form.https.certs_key"}},e._l(e.certs_key,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),t("span",{staticStyle:{color:"red"}},[e._v("* ")])],1),t("el-col",{staticStyle:{"margin-top":"13px","margin-bottom":"10px"}},[t("el-checkbox",{attrs:{disabled:""},model:{value:e.form.https.isHttp2,callback:function(t){e.$set(e.form.https,"isHttp2",t)},expression:"form.https.isHttp2"}},[e._v("启用HTTP2")])],1)],1):e._e(),t("el-form-item",{attrs:{label:"源站协议:",prop:"proxy_protocol"}},[t("el-radio-group",{model:{value:e.form.proxy_protocol,callback:function(t){e.$set(e.form,"proxy_protocol",t)},expression:"form.proxy_protocol"}},[t("el-radio",{attrs:{label:"http"}},[e._v("HTTP")]),t("el-radio",{attrs:{label:"https"}},[e._v("HTTPS")])],1)],1),t("el-form-item",{attrs:{label:"回源设置:",prop:"ips"}},[t("el-col",{staticStyle:{float:"left"}},[t("el-radio",{attrs:{label:"回源到IP/域名",value:"回源到IP/域名"}})],1),t("el-col",{staticStyle:{float:"left"}},[t("el-input",{attrs:{type:"textarea",rows:"6"},model:{value:e.form.ips,callback:function(t){e.$set(e.form,"ips",t)},expression:"form.ips"}})],1)],1)],1)],1),"修改"===e.title?t("el-tab-pane",{staticClass:"file_pane",attrs:{label:"高级",name:"高级"}},[t("codemirror",{ref:"codemirrorRef",staticClass:"st_codemirror",attrs:{options:e.options},model:{value:e.form.ngx_file,callback:function(t){e.$set(e.form,"ngx_file",t)},expression:"form.ngx_file"}})],1):e._e()],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),t("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)],1)},s=[],o=(i("14d9"),i("8f94")),a=(i("a7be"),i("acdf"),i("7ba3"),i("a8d9"),i("db91"),i("b2b9"),i("f9d4"),i("a417")),n=i("5919");const l=i("e762").Base64;var c={components:{codemirror:o["codemirror"]},data(){return{options:{tabSize:4,mode:{name:"javascript",json:!0},theme:"darcula",lineNumbers:!0,line:!0,lineWrapping:!0,styleSelectedText:!0,styleActiveLine:!0,hintOptions:{completeSingle:!0}},tempList:[],tableList:[],pageTotal:0,search:"",activename:"基础",open:!1,title:"",certs_key:[],form:{addTime:"",demo_file:"",diff_file:"",disk_file:"",host:"",http:{port:80,isRewrite_https:!1},https:{certs_key:"",port:443,isHttp2:!0},ips:"",isOpenHttps:!1,ngx_file:"",proxy_protocol:"http"},rules:{host:[{required:!0,message:"域名不能为空",trigger:"blur"}],ips:[{required:!0,message:"回源地址不能为空",trigger:"blur"}],proxy_protocol:[{required:!0,message:"源站协议不能为空",trigger:"blur"}],phone:[{required:!0,message:"手机号码不能为空",trigger:"blur"},{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号码",trigger:"blur"}]}}},created(){this.getList(1)},methods:{tabClick(e,t){"高级"===e.name&&this.$refs.codemirrorRef.refresh()},cancel(){this.open=!1,this.reset()},checkisRewrite_https(){this.form.http.isRewrite_https&&(this.form.isOpenHttps=!0)},reset(){this.form={addTime:"",demo_file:"",diff_file:"",disk_file:"",host:"",http:{port:80,isRewrite_https:!1},https:{certs_key:"",port:443,isHttp2:!1},ips:"",isOpenHttps:!1,proxy_protocol:"http",ngx_file:""}},getList(e){var t={host:"all_host",cer:"true"};Object(n["h"])(t).then(e=>{var t=e.msg,i=[];for(var r in t)if("state"!==r&&"count"!==r){var s={};s.addTime=t[r].addTime,s.host=t[r].host,s.demo_file=t[r].demo_file,s.diff_file=t[r].diff_file,s.disk_file=t[r].disk_file,s.http=t[r].http,s.https=t[r].https,s.ips=t[r].ips,s.isOpenHttps=t[r].isOpenHttps,s.ngx_file=t[r].ngx_file,s.proxy_protocol=t[r].proxy_protocol,i.push(s)}this.tableList=i,this.tempList=i,this.pageTotal=i.length}),this.getCerts()},getCerts(){var e=[];Object(n["g"])().then(t=>{var i=t.msg;for(var r in i){var s={};s.label=i[r],s.value=i[r],e.push(s)}}),this.certs_key=e},handleAdd(){this.reset(),this.title="添加",this.activename="基础",this.open=!0},handleSet(e){this.reset(),this.title="修改",this.activename="基础",this.getCerts(),this.form=e,this.open=!0},handleDel(e){var t={host:e.host};Object(n["e"])(t).then(e=>{"ok"===e.code?(this.$notify({title:"成功",message:e.msg,type:"success"}),this.open=!1,this.getList(1)):this.$notify({title:"警告",message:e.msg,type:"warning"})})},submitForm(){if("修改"===this.title)if("基础"===this.activename)this.$refs["form"].validate(e=>{if(e){var t={host:this.form.host,proxy_protocol:this.form.proxy_protocol,ips:this.form.ips,isOpenHttps:this.form.isOpenHttps,http:JSON.stringify(this.form.http),https:JSON.stringify(this.form.https)};Object(n["j"])(t).then(e=>{"ok"===e.code?(this.$notify({title:"成功",message:e.msg,type:"success"}),this.open=!1,this.getList(1)):this.$notify({title:"警告",message:e.msg,type:"warning"})})}});else{var e={host:this.form.host,type:!0,value:l.encode(this.form.ngx_file)};Object(n["j"])(e).then(e=>{"ok"===e.code?(this.$notify({title:"成功",message:e.msg,type:"success"}),this.open=!1,this.getList(1)):this.$notify({title:"警告",message:e.msg,type:"warning"})})}else this.$refs["form"].validate(e=>{if(e){var t={host:this.form.host,proxy_protocol:this.form.proxy_protocol,ips:this.form.ips,isOpenHttps:this.form.isOpenHttps,http:JSON.stringify(this.form.http),https:JSON.stringify(this.form.https),unsafe:!0};Object(n["b"])(t).then(e=>{"ok"===e.code?(this.$notify({title:"成功",message:e.msg,type:"success"}),this.open=!1,this.getList(1)):this.$notify({title:"警告",message:e.msg,type:"warning"})})}})},handleSave(){var e={action:"save",mod:"all_Mod"};Object(a["h"])(e).then(e=>{"ok"==e.code?this.$notify({title:"成功",message:e.msg,type:"success"}):this.$notify({title:"警告",message:e.msg,type:"warning"})})}},filters:{match:function(e){return JSON.stringify(e)}},watch:{$route(e,t){},search:{handler:function(e,t){this.tableList=""===e?this.tempList:this.tempList.filter((function(t){if(t.host.indexOf(e)>=0)return!0}))}}}},p=c,_=i("2877"),f=Object(_["a"])(p,r,s,!1,null,"b25da0b0",null);t["default"]=f.exports}}]);